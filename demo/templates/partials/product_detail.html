<div class="card" style="margin-bottom:1rem;">
  <h2>{{ product.name }}</h2>
  <p style="color:var(--muted);font-size:0.85rem;margin-bottom:0.5rem;">
    {{ product.brand }} Â· {{ product.category }} Â· <span class="product-price">${{ "%.2f"|format(product.price) }}</span>
  </p>
  {% if product.description %}<p style="font-size:0.9rem;margin-bottom:0.5rem;">{{ product.description }}</p>{% endif %}
  {% for tag in product.tags %}<span class="tag">{{ tag }}</span>{% endfor %}
  <p style="font-size:0.7rem;color:var(--muted);margin-top:0.5rem;">ID: {{ product.id }}</p>
</div>

<div class="card" style="margin-bottom:1rem;">
  <h2>ğŸ’¬ Reviews</h2>
  <div id="review-list"
       hx-get="/ui/products/{{ product.id }}/reviews"
       hx-trigger="load" hx-swap="innerHTML">
    <div class="empty">Loading reviewsâ€¦</div>
  </div>
</div>

<div class="card">
  <h2>âœï¸ Add Review</h2>
  <form hx-post="/ui/products/{{ product.id }}/reviews" hx-target="#review-list" hx-swap="innerHTML"
        hx-on::after-request="if(event.detail.successful) this.reset()">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;">
      <div><label for="author">Author</label><input id="author" name="author" required placeholder="Jane"></div>
      <div>
        <label for="rating">Rating</label>
        <select id="rating" name="rating">
          <option value="5">â˜…â˜…â˜…â˜…â˜… (5)</option>
          <option value="4">â˜…â˜…â˜…â˜…â˜† (4)</option>
          <option value="3">â˜…â˜…â˜…â˜†â˜† (3)</option>
          <option value="2">â˜…â˜…â˜†â˜†â˜† (2)</option>
          <option value="1">â˜…â˜†â˜†â˜†â˜† (1)</option>
        </select>
      </div>
    </div>
    <label for="content">Comment</label>
    <textarea id="content" name="content" placeholder="Write your reviewâ€¦"></textarea>
    <button class="btn btn-primary" type="submit">Submit Review</button>
  </form>
</div>
